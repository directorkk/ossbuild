From d40e21da175deb149a65a584b8f8c8922d123f24 Mon Sep 17 00:00:00 2001
From: Andoni Morales Alastruey <ylatuya@gmail.com>
Date: Sun, 14 Feb 2010 14:27:43 +0100
Subject: [PATCH 1/4] [dshowvideosink] Use the GstVideoSink base class

---
 sys/dshowvideosink/dshowvideosink.cpp |    4 ++--
 sys/dshowvideosink/dshowvideosink.h   |    6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/sys/dshowvideosink/dshowvideosink.cpp b/sys/dshowvideosink/dshowvideosink.cpp
index bbde078..4f9ab9b 100644
--- a/sys/dshowvideosink/dshowvideosink.cpp
+++ b/sys/dshowvideosink/dshowvideosink.cpp
@@ -56,8 +56,8 @@ static GstStaticPadTemplate sink_template = GST_STATIC_PAD_TEMPLATE ("sink",
 
 static void gst_dshowvideosink_init_interfaces (GType type);
 
-GST_BOILERPLATE_FULL (GstDshowVideoSink, gst_dshowvideosink, GstBaseSink,
-    GST_TYPE_BASE_SINK, gst_dshowvideosink_init_interfaces);
+GST_BOILERPLATE_FULL (GstDshowVideoSink, gst_dshowvideosink, GstVideoSink,
+    GST_TYPE_VIDEO_SINK, gst_dshowvideosink_init_interfaces);
 
 enum
 {
diff --git a/sys/dshowvideosink/dshowvideosink.h b/sys/dshowvideosink/dshowvideosink.h
index 9c9d073..6216395 100644
--- a/sys/dshowvideosink/dshowvideosink.h
+++ b/sys/dshowvideosink/dshowvideosink.h
@@ -21,7 +21,7 @@
 #define __DSHOWVIDEOSINK_H__
 
 #include <gst/gst.h>
-#include <gst/base/gstbasesink.h>
+#include <gst/video/gstvideosink.h>
 
 #include "dshowvideofakesrc.h"
 
@@ -58,7 +58,7 @@ public:
 
 struct _GstDshowVideoSink
 {
-  GstBaseSink sink;
+  GstVideoSink sink;
 
   /* Preferred renderer to use: VM9 or VMR */
   char *preferredrenderer;
@@ -100,7 +100,7 @@ struct _GstDshowVideoSink
 
 struct _GstDshowVideoSinkClass
 {
-  GstBaseSinkClass parent_class;
+  GstVideoSinkClass parent_class;
 };
 
 GType gst_dshowvideosink_get_type (void);
-- 
1.6.4.msysgit.0

